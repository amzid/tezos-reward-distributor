

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to configure Tezos Reward Distributor? &mdash; Tezos Reward Distributor 6.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Payment Address" href="paymentaddress.html" />
    <link rel="prev" title="How to get and install Tezos Reward Distributor?" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Tezos Reward Distributor
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tezos Reward Distributor:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">How to get and install Tezos Reward Distributor?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to configure Tezos Reward Distributor?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#email-setup">Email Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fee-setup">Fee Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#baker-configuration">Baker Configuration:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="paymentaddress.html">Payment Address</a></li>
<li class="toctree-l1"><a class="reference internal" href="tezossigner.html">How to use the Tezos Signer</a></li>
<li class="toctree-l1"><a class="reference internal" href="tezossignerdocker.html">Tezos Signer with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="run.html">How to run Tezos Reward Distributor?</a></li>
<li class="toctree-l1"><a class="reference internal" href="linuxservice.html">Run as Linux Service</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tezos Reward Distributor</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How to configure Tezos Reward Distributor?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-configure-tezos-reward-distributor">
<h1>How to configure Tezos Reward Distributor?<a class="headerlink" href="#how-to-configure-tezos-reward-distributor" title="Permalink to this headline">¶</a></h1>
<div class="section" id="email-setup">
<h2>Email Setup<a class="headerlink" href="#email-setup" title="Permalink to this headline">¶</a></h2>
<p>Get emails for payment reports at each cycle. Fill email.ini file with
your email details to receive payment emails.</p>
</div>
<div class="section" id="fee-setup">
<h2>Fee Setup<a class="headerlink" href="#fee-setup" title="Permalink to this headline">¶</a></h2>
<p>fee.ini file contains details about transaction fees. Currently the fee
value specified under DEFAULT domain is used as fee amount. It is in
mutez.</p>
</div>
<div class="section" id="baker-configuration">
<h2>Baker Configuration:<a class="headerlink" href="#baker-configuration" title="Permalink to this headline">¶</a></h2>
<p>Each baker has its own configuration and policy. A payment system should
be flexible enough to cover the needs of bakers. The application uses a yaml
file for loading baker specific configurations.</p>
<p>Configuration tool can be used to create baking configuration file
interactively. Also an example configuration file is present under
examples directory.
By default configuration files are kept under ~/pymnt/cfg directory.
Configuration directory can be changed with “-f” configuration option.
Name of a configuration file should be the baker’s address
(e.g. tz1boot1pK9h2BVGXdyvfQSv8kd1LQM6H889.yaml).</p>
<p>You can use configure.py tool to interactively create your configuration
file, with ease.</p>
<p>Available configuration parameters are:</p>
<dl>
<dt><strong>baking_address</strong></dt><dd><p>Address of the baker. It must be an implicit account (tz1).
No alias is allowed.</p>
</dd>
<dt><strong>payment_address</strong></dt><dd><p>This is the address where payments will be done from. A PKH
or alias of implicit or originated account is accepted. For
more information on the payment address configuration please
refer to the next section.</p>
</dd>
<dt><strong>service_fee</strong></dt><dd><p>A decimal in range [0-100]. Also known as the baker’s fee.
This is evaluated as a percentage value. Example: If set to 5,
then 5% of baking rewards are kept as a service fee by the baker.</p>
</dd>
<dt><strong>founders_map</strong></dt><dd><p>A dictionary of PKH and ratio (decimal in the range [0-1])
pairs. Each item in this dictionary represents PKH of each
founder and his ratio of the shares coming from the service fee.
Implicit or originated addresses are accepted. It is important
that the sum of all ratios equals to 1. This map is optional
if founders do not want to be paid from service fees, in
this case, service fee remains in baking balance.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">service_fee</span><span class="p">:</span> <span class="mi">10</span>
<span class="n">founders_map</span><span class="p">:</span>
    <span class="n">tz3VxS7ff4YnZRs8b4mMP4WaMVpoQjuo1rjf</span><span class="p">:</span> <span class="mf">0.6</span>
    <span class="n">tz1PirboZKFVqkfE45hVLpkpXaZtLk3mqC17</span><span class="p">:</span> <span class="mf">0.4</span>
</pre></div>
</div>
<p>Alice and Bob are both founders of Acme Bakery. Their bakery fee is 10%.
Alice has a 60% (0.6) interest in the bakery, and Bob has a 40% (0.4) interest.
When rewards are delivered at the end of each cycle, 10% is taken as the bakery
fee (ie: <em>service_fee</em>). That 10% is then divided between Alice and Bob according to their ratios.</p>
</dd>
<dt><strong>owners_map</strong></dt><dd><p>A dictionary of PKH and ratio ( decimal in the range [0-1])
pairs. Each item in this dictionary represents PKH of each
balance owner and his ratio of the amount he owns in the
total baking balance. Implicit or originated addresses are
accepted. It is important that the sum of all ratios equals
to 1. This map is optional if owners do not want to be paid
for baking rewards, in this case, service fee remains in
baking balance.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Current</span> <span class="n">Baker</span> <span class="n">Balance</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span><span class="mi">400</span> <span class="n">XTZ</span>
<span class="n">Total</span> <span class="n">Delegations</span><span class="p">:</span> <span class="mi">69</span><span class="p">,</span><span class="mi">520</span> <span class="n">XTZ</span>
<span class="n">Total</span> <span class="n">Staked</span><span class="p">:</span> <span class="mi">86</span><span class="p">,</span><span class="mi">920</span> <span class="n">XTZ</span>

<span class="n">service_fee</span><span class="p">:</span> <span class="mi">9</span>
<span class="n">owners_map</span><span class="p">:</span>
  <span class="n">tz1PV5g16m9hHMAVJ4Hx6NzzUHgksDnTLFcK</span><span class="p">:</span> <span class="mf">0.4</span>
  <span class="n">tz1PirboZKFVqkfE45hVLpkpXaZtLk3mqC17</span><span class="p">:</span> <span class="mf">0.4</span>
  <span class="n">tz1VxS7ff4YnZRs8b4mMP4WaMVpoQjuo1rjf</span><span class="p">:</span> <span class="mf">0.2</span>
</pre></div>
</div>
<p>Charlie, and Dave, have each transfered 6,960 Tez to the baker address. Edwin has transfered 3,480 Tez. They are each partial owners of the baking balance. When rewards are delivered at the end of each cycle, 9% is taken as the bakery fee (ie: <em>service_fee</em>). That 9% is dispersed to any <em>founders</em>. If there are no founders, that 9% remains in the baker’s balance.</p>
<p>The baker address is technically a delegator to itself. Its share of rewards are part of the overall cycle rewards. Charlie, Dave, and Edwin divide the “baker address rewards” as per the ratios in <em>owners_map</em>. Additionally, owners are <em>not</em> subject to the <em>service_fee</em>.</p>
</dd>
<dt><strong>specials_map</strong></dt><dd><p>A dictionary of PKH and fee (decimal in the range [0-100] )
pairs. This dictionary can be used to set special service
fee values for desired delegators.</p>
</dd>
<dt><strong>supporters_set</strong></dt><dd><p>A set of PKH values. Each PKH represents a supporter of the
baker. Supporters are not charged with a service fee. Founders
and balance owners are natural supporters, they are not
needed to be added.</p>
</dd>
<dt><strong>min_delegation_amt</strong></dt><dd><p>A minimum delegation amount can be set here. If this value is set
to 10, 10 XTZ are required as minimum. It is important to define
what happens to the rewards of excluded delegates that are below
the minimum delegation balance in rules_map.</p>
</dd>
<dt><strong>reactivate_zeroed</strong></dt><dd><p>True/False - If True, an account to be paid found with a 0
balance will be reactivated, incurring the necessary burn fee
and storage, and rewards will be sent. If False, any account
with a 0 balance will be skipped payment. This will be noted in
the CSV report.</p>
</dd>
<dt><strong>delegator_pays_xfer_fee</strong></dt><dd><p>Default value is true. If set to false, the transfer fee for
each payment is paid by the delegate. Otherwise, the transfer
fee is deducted from the delegator reward.</p>
</dd>
<dt><strong>delegator_pays_ra_fee</strong></dt><dd><p>True/False - Functions just like delegator_pays_xfer_fee, except refers
to the burn/reactivation fee. If True, the burn fee
is subtracted from the reward payment (ie: delegate pays).
If False, burn fee is paid for by baker. If reactivate_zeroed: True
and delegator_pays_ra_fee: True but the reward is smaller than the burn fee,
their rewards will be ignored and will simply remain at the bakers address.</p>
</dd>
<dt><strong>rules_map</strong></dt><dd><p>The rules_map is needed to redirect payments. A pre-defined source (left side) is
mindelegation. Pre-defined destinations (right side) are TOF = to founders balance,
TOB = to bakers balance and TOE = to everyone. Variable sources and destinations are
PKHs.</p>
<p>Example:
rules_map:
PKH: TOF (redirects payment from PKH to TOF)
PHK: TOB (payment will be kept in the baking_address)
PKH: PKH (redirects payment from PKH to PKH)
mindelegation: TOE (mindelegation will be shared with everyone)</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="paymentaddress.html" class="btn btn-neutral float-right" title="Payment Address" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="How to get and install Tezos Reward Distributor?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, habanoz

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>